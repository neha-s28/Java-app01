- name: Install JFrog CLI
  run: curl -fL https://getcli.jfrog.io | sh && chmod +x jfrog && sudo mv jfrog /usr/local/bin/

- name: Configure JFrog CLI
  env:
    JFROG_URL: ${{ secrets.JFROG_URL }}
    JFROG_USERNAME: ${{ secrets.JFROG_USERNAME }}
    JFROG_API_Token: ${{ secrets.JFROG_API_KEY }}
  run: |
    jfrog config add my-config --url=${JFROG_URL} --user=${JFROG_USERNAME} --apikey=${JFROG_API_KEY} --interactive=false

- name: Upload artifact using JFrog CLI
  run: jfrog rt upload "target/*.jar" my-maven-local/
